const askNumber=(allNums,isSqrt)=>{
    let m=0,introducedNumber,getOut=true
    while(getOut){
        introducedNumber=prompt(`Introduzca el ${m+1} numero (no escriba nada para salir): `)
        if(introducedNumber===''&&m===0){
                console.log('Perdone pero ha de introducir un primer numero')
            continue
        }
        else if(introducedNumber===''){
            if(allNums.length===1){
                getOut=false
                isSqrt[0]=true
            continue
            }
            getOut=false
            continue
        }
        else if(Number.isNaN(Number(introducedNumber))){
            console.log('Perdona pero unicamente se pueden escribir numeros en la calculadora')
            continue
        }
         allNums.push(Number(introducedNumber))
         m++
    }
}
const sum=(sumNums)=>{
    let totalSum=0
    for(let i=0;i<sumNums.length;i++){
        totalSum+=sumNums[i]
    }
    totalSum=totalSum.toFixed(3).replace(".000", "")
    return totalSum
}
const subs=(subsNums)=>{
    let totalSubs
     for(let i=0;i<subsNums.length;i++){
         if(i==0){
             totalSubs=subsNums[i]
             continue
         }
        totalSubs-=subsNums[i]
    }
    totalSubs=totalSubs.toFixed(3).replace(".000", "")
    return totalSubs
}
const prod=(prodNums)=>{
    let totalProd=1
     for(let i=0;i<prodNums.length;i++){
        totalProd*=prodNums[i]
    }
    totalProd=totalProd.toFixed(3).replace(".000", "")
    return totalProd
}
const div=(divNums)=>{
    let totalDiv
     for(let i=0;i<divNums.length;i++){
         if(i==0){
             totalDiv=divNums[i]
             continue
         }
        totalDiv/=divNums[i]
    }
    totalDiv=totalDiv.toFixed(3).replace(".000", "")
    return totalDiv
}
const sqrt=(sqrtNum)=>{
    let totalSqrt=Math.sqrt(sqrtNum).toFixed(3).replace(".000", "")
    return totalSqrt
}
const checkNums=(allNums,isSqrt)=>{
    if(isSqrt[0]){
        let resultSqrt=sqrt(allNums[0])
        console.log('Raiz cuadrada:',resultSqrt)
    }else{
        let resultAll=[sum(allNums),subs(allNums),prod(allNums),div(allNums)] 
        console.log('Suma:',resultAll[0],'/ Resta:',resultAll[1],'/ Producto:',resultAll[2],'/ Division:',resultAll[3])
    }
}
let runProgram=()=>{
    let allNums=[],isSqrt=[false]
console.log('Buenas usuario!')
let i=0,getOut2=true
while(getOut2){
    if(i===0){
    askNumber(allNums,isSqrt)
    checkNums(allNums,isSqrt)
    }else{
        i--
    }
    let anotherTry=prompt('Quiere usted hacer otro intento? ("si" para hacer otro intento / "no" para cerrar la aplicacion): ')
    if(anotherTry.toLowerCase()==='si'){
        allNums=[]
        isSqrt[0]=false
        continue
    }else if(anotherTry.toLowerCase()==='no'){
        console.log('Adios usuario y que vaya bien!')
        getOut2=false
    }else{
        console.log('Introduzca unicamente si o no por favor')
        i++
        continue
    }
}
}
runProgram()
